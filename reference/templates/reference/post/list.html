{% extends 'reference/base.html' %}
{% load reference_tags %}

{% block title %}
    My Reference
{% endblock title %}

{% block content %}
    <h1>My Reference</h1>

    {% for post in posts %}
        <h2>
            <a href="{{ post.get_absolute_url }}">
                {{ post.title }}
            </a>           
        </h2>
        <p class="date">
            Published {{ post.publish }} by {{ post.author }}
        </p>
        <a href="{{ post.link }}">{{ post.link }}</a>
        {{ post.description|markdown|truncatewords_html:30 }}
        {% if post.author == request.user %}
            <a href="{% url 'reference:post_update' post.id post.slug %}">Update Post</a> |
            <a href="{% url 'reference:post_delete' post.id post.slug %}">Delete Post</a>
        {% endif %}
    {% endfor %}

    {% include "pagination.html" with page=page_obj %}
{% endblock content %}